(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{101:function(e,n,r){e.exports={page:"Paginator_page__18LgV",selectedPage:"Paginator_selectedPage__2l-y5"}},104:function(e,n,r){"use strict";r.r(n);var t=r(27),o=r(28),s=r(30),u=r(29),a=r(0),i=r.n(a),c=r(13),l=r(17),f=r(21),p="NOT_FOUND";var g=function(e,n){return e===n};function h(e,n){var r="object"===typeof n?n:{equalityCheck:n},t=r.equalityCheck,o=void 0===t?g:t,s=r.maxSize,u=void 0===s?1:s,a=r.resultEqualityCheck,i=function(e){return function(n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,o=0;o<t;o++)if(!e(n[o],r[o]))return!1;return!0}}(o),c=1===u?function(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:p},put:function(e,r){n={key:e,value:r}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(i):function(e,n){var r=[];function t(e){var t=r.findIndex((function(r){return n(e,r.key)}));if(t>-1){var o=r[t];return t>0&&(r.splice(t,1),r.unshift(o)),o.value}return p}return{get:t,put:function(n,o){t(n)===p&&(r.unshift({key:n,value:o}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(u,i);function l(){var n=c.get(arguments);if(n===p){if(n=e.apply(null,arguments),a){var r=c.getEntries(),t=r.find((function(e){return a(e.value,n)}));t&&(n=t.value)}c.put(arguments,n)}return n}return l.clearCache=function(){return c.clear()},l}function d(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return n}function v(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];var o=function(){for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];var s,u=0,a={memoizeOptions:void 0},i=t.pop();if("object"===typeof i&&(a=i,i=t.pop()),"function"!==typeof i)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof i+"]");var c=a,l=c.memoizeOptions,f=void 0===l?r:l,p=Array.isArray(f)?f:[f],g=d(t),h=e.apply(void 0,[function(){return u++,i.apply(null,arguments)}].concat(p)),v=e((function(){for(var e=[],n=g.length,r=0;r<n;r++)e.push(g[r].apply(null,arguments));return s=h.apply(null,e)}));return Object.assign(v,{resultFunc:i,memoizedResultFunc:h,dependencies:g,lastResult:function(){return s},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),v};return o}var j=v(h),b=j((function(e){return e.usersPage.users}),(function(e){return e})),P=function(e){return e.usersPage.pageSize},y=function(e){return e.usersPage.totalUsersCount},O=function(e){return e.usersPage.currentPage},m=function(e){return e.usersPage.isInProgress},w=function(e){return e.usersPage.isFollowingProgress},k=r(53),x=r(31),U=r(101),C=r.n(U);var _=r(1),T=function(e){var n=e.totalUsersCount,r=e.pageSize,t=e.currentPage,o=e.onPageChanged,s=function(e,n){var r=[];if(e>10)if(n>5)for(var t=n-4;t<=n+5&&(r.push(t),t!==e);t++);else for(var o=1;o<=10&&(r.push(o),o!==e);o++);else for(var s=1;s<=e;s++)r.push(s);return r}(Math.ceil(n/r),t);return Object(_.jsxs)("div",{children:[t>6&&Object(_.jsx)("span",{className:C.a.page,onClick:function(){return o(1)},children:"1..."}),s.map((function(e,n){return Object(_.jsx)("span",{className:"".concat(C.a.page," ").concat(t===e?C.a.selectedPage:""),onClick:function(){return o(e)},children:e},n)}))," "]})},z=r(9),S=r(95),F=r(98),N=r.n(F),A=r(41),E=function(e){var n=e.user,r=e.unfollowUserThunk,t=e.followUserThunk,o=e.isFollowingProgress;return Object(_.jsxs)("div",{className:N.a.user,children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:Object(_.jsxs)(z.b,{to:"/profile/"+n.id,children:[" ",Object(_.jsx)("img",{alt:"userPhoto",className:N.a.avatar,src:null==n.photos.small?S.a:n.photos.small})]})}),Object(_.jsx)("div",{children:n.followed?Object(_.jsx)(A.a,{disabled:o.some((function(e){return e===n.id})),onClick:function(){r(n.id)},children:"unfollow"}):Object(_.jsx)(A.a,{disabled:o.some((function(e){return e===n.id})),onClick:function(){t(n.id)},children:" follow"})})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:n.name}),Object(_.jsx)("div",{children:n.status})]})]})},q=function(e){var n=e.users,r=e.currentPage,t=e.onPageChanged,o=e.pageSize,s=e.unfollowUserThunk,u=e.followUserThunk,a=e.totalUsersCount,i=e.isFollowingProgress;return Object(_.jsxs)("div",{className:"".concat(N.a.container," container"),children:[Object(_.jsx)(T,{currentPage:r,onPageChanged:t,pageSize:o,totalUsersCount:a}),Object(_.jsx)("div",{className:N.a.userWrapper,children:n.map((function(e){return Object(_.jsx)(E,{user:e,isFollowingProgress:i,unfollowUserThunk:s,followUserThunk:u},e.id)}))})]})},I=function(e){Object(s.a)(r,e);var n=Object(u.a)(r);function r(){var e;Object(t.a)(this,r);for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return(e=n.call.apply(n,[this].concat(s))).onPageChanged=function(n){e.props.changePageThunk(n,e.props.pageSize)},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(_.jsxs)(_.Fragment,{children:[this.props.isInProgress?Object(_.jsx)(x.a,{}):null," ",Object(_.jsx)(q,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,pageSize:this.props.pageSize,followUserThunk:this.props.followUserThunk,unfollowUserThunk:this.props.unfollowUserThunk,isFollowingProgress:this.props.isFollowingProgress})]})}}]),r}(i.a.Component);n.default=Object(l.c)(f.a,Object(c.b)((function(e){return{users:b(e),pageSize:P(e),totalUsersCount:y(e),currentPage:O(e),isInProgress:m(e),isFollowingProgress:w(e)}}),{getUsersThunk:k.c,changePageThunk:k.a,followUserThunk:k.b,unfollowUserThunk:k.d}))(I)},95:function(e,n,r){"use strict";n.a=r.p+"static/media/user.40a377fa.png"},98:function(e,n,r){e.exports={container:"Users_container__-EMjc",avatar:"Users_avatar__OgCju",userWrapper:"Users_userWrapper__2fUuM",user:"Users_user__2xqqQ"}}}]);
//# sourceMappingURL=5.1796db4f.chunk.js.map