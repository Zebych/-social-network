(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{100:function(e,n,r){"use strict";r.r(n);var t=r(27),s=r(28),o=r(30),a=r(29),u=r(0),i=r.n(u),c=r(13),l=r(17),p=r(21);function g(e,n){return e===n}function f(e,n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,s=0;s<t;s++)if(!e(n[s],r[s]))return!1;return!0}function h(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return n}var d=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return function(){for(var n=arguments.length,t=Array(n),s=0;s<n;s++)t[s]=arguments[s];var o=0,a=t.pop(),u=h(t),i=e.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(r)),c=e((function(){for(var e=[],n=u.length,r=0;r<n;r++)e.push(u[r].apply(null,arguments));return i.apply(null,e)}));return c.resultFunc=a,c.dependencies=u,c.recomputations=function(){return o},c.resetRecomputations=function(){return o=0},c}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,r=null,t=null;return function(){return f(n,r,arguments)||(t=e.apply(null,arguments)),r=arguments,t}}));var j=d((function(e){return e.usersPage.users}),(function(e){return e})),v=function(e){return e.usersPage.pageSize},P=function(e){return e.usersPage.totalUsersCount},b=function(e){return e.usersPage.currentPage},w=function(e){return e.usersPage.isInProgress},O=function(e){return e.usersPage.isFollowingProgress},U=r(52),x=r(31),k=r(97),m=r.n(k);var y=r(1),C=function(e){var n=e.totalUsersCount,r=e.pageSize,t=e.currentPage,s=e.onPageChanged,o=function(e,n){var r=[];if(e>10)if(n>5)for(var t=n-4;t<=n+5&&(r.push(t),t!==e);t++);else for(var s=1;s<=10&&(r.push(s),s!==e);s++);else for(var o=1;o<=e;o++)r.push(o);return r}(Math.ceil(n/r),t);return Object(y.jsxs)("div",{children:[t>6&&Object(y.jsx)("span",{className:m.a.page,onClick:function(){return s(1)},children:"1..."}),o.map((function(e,n){return Object(y.jsx)("span",{className:"".concat(m.a.page," ").concat(t===e?m.a.selectedPage:""),onClick:function(){return s(e)},children:e},n)}))," "]})},_=r(9),T=r(91),S=r(94),z=r.n(S),F=r(41),N=function(e){var n=e.user,r=e.unfollowUserThunk,t=e.followUserThunk,s=e.isFollowingProgress;return Object(y.jsxs)("div",{className:z.a.user,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{children:Object(y.jsxs)(_.b,{to:"/profile/"+n.id,children:[" ",Object(y.jsx)("img",{alt:"userPhoto",className:z.a.avatar,src:null==n.photos.small?T.a:n.photos.small})]})}),Object(y.jsx)("div",{children:n.followed?Object(y.jsx)(F.a,{disabled:s.some((function(e){return e===n.id})),onClick:function(){r(n.id)},children:"unfollow"}):Object(y.jsx)(F.a,{disabled:s.some((function(e){return e===n.id})),onClick:function(){t(n.id)},children:" follow"})})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{children:n.name}),Object(y.jsx)("div",{children:n.status})]})]})},A=function(e){var n=e.users,r=e.currentPage,t=e.onPageChanged,s=e.pageSize,o=e.unfollowUserThunk,a=e.followUserThunk,u=e.totalUsersCount,i=e.isFollowingProgress;return Object(y.jsxs)("div",{className:"".concat(z.a.container," container"),children:[Object(y.jsx)(C,{currentPage:r,onPageChanged:t,pageSize:s,totalUsersCount:u}),Object(y.jsx)("div",{className:z.a.userWrapper,children:n.map((function(e){return Object(y.jsx)(N,{user:e,isFollowingProgress:i,unfollowUserThunk:o,followUserThunk:a},e.id)}))})]})},M=function(e){Object(o.a)(r,e);var n=Object(a.a)(r);function r(){var e;Object(t.a)(this,r);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).onPageChanged=function(n){e.props.changePageThunk(n,e.props.pageSize)},e}return Object(s.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[this.props.isInProgress?Object(y.jsx)(x.a,{}):null," ",Object(y.jsx)(A,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,pageSize:this.props.pageSize,followUserThunk:this.props.followUserThunk,unfollowUserThunk:this.props.unfollowUserThunk,isFollowingProgress:this.props.isFollowingProgress})]})}}]),r}(i.a.Component);n.default=Object(l.c)(p.a,Object(c.b)((function(e){return{users:j(e),pageSize:v(e),totalUsersCount:P(e),currentPage:b(e),isInProgress:w(e),isFollowingProgress:O(e)}}),{getUsersThunk:U.c,changePageThunk:U.a,followUserThunk:U.b,unfollowUserThunk:U.d}))(M)},91:function(e,n,r){"use strict";n.a=r.p+"static/media/user.40a377fa.png"},94:function(e,n,r){e.exports={container:"Users_container__-EMjc",avatar:"Users_avatar__OgCju",userWrapper:"Users_userWrapper__2fUuM",user:"Users_user__2xqqQ"}},97:function(e,n,r){e.exports={page:"Paginator_page__18LgV",selectedPage:"Paginator_selectedPage__2l-y5"}}}]);
//# sourceMappingURL=5.7e8db3b9.chunk.js.map